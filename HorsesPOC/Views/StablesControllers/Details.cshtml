@model HorsesPOC.Models.Domain.Stable

@{
    ViewData["Title"] = "Stable Details";
}

<h2 class="mb-3">Stable Details</h2>

<div class="card shadow-sm mb-4">
    <div class="card-body">
        <h5 class="card-title">@Model.Name</h5>
        <p class="card-text mb-1"><strong>Location:</strong> @Model.Location</p>
        <p class="card-text mb-0">
            <strong>Owner:</strong> @Model.Owner?.UserName 
            @if(Model.Owner == null || Model.Owner.UserName == ""){
            <span class="text-muted">Unassigned</span>
          }
        </p>

    </div>
</div>

@if (Model.Horses?.Any() == true)
{
    <div class="mb-4">
        <h4><i class="bi bi-horse me-1"></i> Horses</h4>
        <ul class="list-group">
            @foreach (var horse in Model.Horses)
            {
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <div>
                        <strong>@horse.Name</strong>
                        <span class="text-muted ms-2">(@horse.Gender, @horse.Category)</span>
                    </div>
                    <span class="badge bg-secondary">Age: @horse.Age</span>
                </li>
            }
        </ul>
    </div>
}

@if (Model.Trainees?.Any() == true)
{
    <div class="mb-4">
        <h4><i class="bi bi-people me-1"></i> Trainees</h4>
        <ul class="list-group">
            @foreach (var trainee in Model.Trainees)
            {
                <li class="list-group-item">
                    <i class="bi bi-person-badge me-1"></i> @trainee.Name
                </li>
            }
        </ul>
    </div>
}

<div class="d-flex gap-2">
    <a asp-action="Edit" asp-route-id="@Model.ID" class="btn btn-warning">
        <i class="bi bi-pencil me-1"></i> Edit
    </a>
    <a asp-action="Index" class="btn btn-secondary">
        <i class="bi bi-arrow-left-circle me-1"></i> Back to List
    </a>
</div>
